{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="glass-panel p-5">
            <div class="mb-4">
                <a href="{% url 'app_kb:article_list' %}" class="text-white-50 text-decoration-none">
                    <i class="bi bi-arrow-left"></i> Back to Articles
                </a>
            </div>

            <h1 class="text-white mb-3">{{ article.title }}</h1>

            <div class="d-flex align-items-center mb-4">
                {% if article.category %}
                    <span class="badge bg-secondary me-2">{{ article.category.name }}</span>
                {% endif %}
                <span class="text-white-50 small">Updated {{ article.updated_at|date:"M d, Y" }}</span>
                {% if not article.is_public %}
                    <span class="badge bg-warning text-dark ms-2">Staff Only</span>
                {% endif %}
            </div>

            <div class="text-white article-content">
                {{ article.content|linebreaks }}
            </div>

            {% if user.is_staff %}
                <div class="mt-5 pt-4 border-top border-secondary">
                    <a href="{% url 'app_kb:article_update' article.id %}" class="btn btn-warning me-2">Edit Article</a>
                    <a href="{% url 'app_kb:article_delete' article.id %}" class="btn btn-danger">Delete Article</a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
